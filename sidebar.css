html.cgpt-ambient-on:not(.cgpt-legacy-composer) #stage-slideover-sidebar {
  position: relative;
  background: transparent !important;
  border-radius: var(--glass-radius);
  overflow: hidden;
}

html.cgpt-ambient-on:not(.cgpt-legacy-composer) #stage-slideover-sidebar .bg-token-bg-elevated-secondary,
html.cgpt-ambient-on:not(.cgpt-legacy-composer) #stage-slideover-sidebar [class*="bg-token-bg-"]:not([class*="bg-token-bg-elevated-secondary"]),
html.cgpt-ambient-on:not(.cgpt-legacy-composer) #stage-slideover-sidebar [class*="bg-token-surface"] {
  background-color: transparent !important;
}

html.cgpt-ambient-on:not(.cgpt-legacy-composer) #stage-slideover-sidebar::before {
  content: "";
  position: absolute;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  border-radius: inherit;
  background: var(--sidebar-glass-bg);
  -webkit-backdrop-filter: blur(var(--sidebar-glass-blur)) saturate(var(--sidebar-glass-sat));
  backdrop-filter: blur(var(--sidebar-glass-blur)) saturate(var(--sidebar-glass-sat));
  box-shadow: inset -1px 0 0 var(--sidebar-glass-stroke), var(--sidebar-glass-shadow);
}

html.cgpt-ambient-on:not(.cgpt-legacy-composer) #stage-slideover-sidebar > * {
  position: relative;
  z-index: 1;
}

html.cgpt-ambient-on:not(.cgpt-legacy-composer) #stage-slideover-sidebar .sticky,
html.cgpt-ambient-on:not(.cgpt-legacy-composer) #stage-slideover-sidebar .tall\:sticky {
  position: sticky;
  isolation: isolate;
  background: transparent !important;
  border-radius: var(--glass-radius);
  contain: paint;
}

html.cgpt-ambient-on:not(.cgpt-legacy-composer) #stage-slideover-sidebar .sticky::before,
html.cgpt-ambient-on:not(.cgpt-legacy-composer) #stage-slideover-sidebar .tall\:sticky::before {
  content: "";
  position: absolute;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  border-radius: inherit;
  background: var(--sidebar-glass-bg);
  -webkit-backdrop-filter: blur(var(--sidebar-glass-blur)) saturate(var(--sidebar-glass-sat));
  backdrop-filter: blur(var(--sidebar-glass-blur)) saturate(var(--sidebar-glass-sat));
  box-shadow: 0 1px 0 var(--sidebar-sticky-highlight) inset, var(--sidebar-glass-shadow);
}

html.cgpt-ambient-on:not(.cgpt-legacy-composer) #stage-slideover-sidebar .sticky > *,
html.cgpt-ambient-on:not(.cgpt-legacy-composer) #stage-slideover-sidebar .tall\:sticky > * {
  position: relative;
  z-index: 1;
}

html.cgpt-ambient-on:not(.cgpt-legacy-composer) #stage-slideover-sidebar .hover\:bg-token-surface-hover:hover,
html.cgpt-ambient-on:not(.cgpt-legacy-composer) #stage-slideover-sidebar .focus-visible\:bg-token-surface-hover:focus-visible {
  background-color: color-mix(in oklab, currentColor 7%, transparent) !important;
}

html.cgpt-ambient-on:not(.cgpt-legacy-composer) #stage-slideover-sidebar::after {
  content: "";
  position: absolute;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  border-radius: inherit;
  background: var(--sidebar-gradient-overlay);
}

/* --- Clear Glass (Liquid Effect) Override for Sidebar --- */
html.cgpt-appearance-clear.cgpt-ambient-on:not(.cgpt-legacy-composer) #stage-slideover-sidebar {
  --sidebar-glass-radius: 18px; /* Slightly more rounded */
  --sidebar-glass-blur: 28px;
  --sidebar-glass-sat: 180%;
  --sidebar-glass-bg: rgba(18, 18, 18, 0.15);
  --sidebar-glass-stroke: rgba(255, 255, 255, 0.2);
  --sidebar-glass-shadow: 0 16px 70px rgba(0, 0, 0, 0.55);
}

html.cgpt-appearance-clear.cgpt-ambient-on:not(.cgpt-legacy-composer) #stage-slideover-sidebar::before {
  box-shadow: inset 0 0 2px 0 rgba(255,255,255,0.08), var(--sidebar-glass-shadow);
  transition: background 0.4s ease, backdrop-filter 0.4s ease, -webkit-backdrop-filter 0.4s ease, box-shadow 0.4s ease;
}

/* Light mode overrides for clear/liquid sidebar */
html.cgpt-appearance-clear.cgpt-ambient-on.cgpt-light-mode:not(.cgpt-legacy-composer) #stage-slideover-sidebar {
  --sidebar-glass-bg: rgba(255, 255, 255, 0.3);
  --sidebar-glass-stroke: rgba(0, 0, 0, 0.15);
  --sidebar-glass-shadow: 0 16px 60px rgba(0, 0, 0, 0.25);
}
html.cgpt-appearance-clear.cgpt-ambient-on.cgpt-light-mode:not(.cgpt-legacy-composer) #stage-slideover-sidebar::before {
  box-shadow: inset 0 0 2px 0 rgba(255,255,255,0.25), var(--sidebar-glass-shadow);
}